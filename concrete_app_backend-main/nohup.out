/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/_internal/_config.py:321: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Will watch for changes in these directories: ['/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [10618] using WatchFiles
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/_internal/_config.py:321: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [10634]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
roles have been successfully created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material types have been successfully created
users has already been created
concrete mixing plant has already been created
concrete mixing plant has already been created
concrete mixing plant has already been created
concrete mixing plants have been successfully created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction types have been successfully created
receive method type has already been created
receive method type has already been created
receive method type has already been created
receive method type has already been created
receive method types have been successfully created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
Всего прав доступа: 20
permissions have been successfully created
Всего связей ролей и прав доступа: 65
role_permissions have been successfully created
user admin has already been created
user director has already been created
user opdirector has already been created
user saleshead has already been created
user salesmanager has already been created
user logistic has already been created
user laborant has already been created
user dispatcher has already been created
user founder has already been created
user accountant has already been created
user bsumaster has already been created
user auto_system has already been created
Массовое создание пользователей завершено успешно
Пользователь supplier1 уже существует
all data seed was successfully
INFO:     127.0.0.1:64653 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:64702 - "GET /api/inert_weighing/get_all?limit=5 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:64771 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:64805 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64810 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64812 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64814 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64805 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64816 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64812 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64810 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64853 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64857 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64859 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64861 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64861 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64853 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64857 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64859 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64995 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
  |     yield
  |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    |     await route.handle(scope, receive, send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/weighing.py", line 74, in get_all_independent_weighings
    |     weighing, total = await WeighingService().get_all_independent(
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/services/weighing.py", line 346, in get_all_independent
    |     results, total = await uow.weighing.get_all(seller_filter, material_filter, date_filter, is_finished_filter,
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 63, in get_all
    |     res = [row[0].to_read_model() for row in res.all()]
    |            ^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/models/weighing.py", line 61, in to_read_model
    |     return WeighingSchema(
    |            ^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/main.py", line 164, in __init__
    |     __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
    | pydantic_core._pydantic_core.ValidationError: 2 validation errors for WeighingSchema
    | tare_weight
    |   Input should be greater than 0 [type=greater_than, input_value=0, input_type=int]
    |     For further information visit https://errors.pydantic.dev/2.5/v/greater_than
    | old_tare_weight
    |   Input should be greater than 0 [type=greater_than, input_value=0, input_type=int]
    |     For further information visit https://errors.pydantic.dev/2.5/v/greater_than
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/weighing.py", line 74, in get_all_independent_weighings
    weighing, total = await WeighingService().get_all_independent(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/services/weighing.py", line 346, in get_all_independent
    results, total = await uow.weighing.get_all(seller_filter, material_filter, date_filter, is_finished_filter,
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 63, in get_all
    res = [row[0].to_read_model() for row in res.all()]
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/models/weighing.py", line 61, in to_read_model
    return WeighingSchema(
           ^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pydantic/main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for WeighingSchema
tare_weight
  Input should be greater than 0 [type=greater_than, input_value=0, input_type=int]
    For further information visit https://errors.pydantic.dev/2.5/v/greater_than
old_tare_weight
  Input should be greater than 0 [type=greater_than, input_value=0, input_type=int]
    For further information visit https://errors.pydantic.dev/2.5/v/greater_than
INFO:     127.0.0.1:49761 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50131 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:50219 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50385 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51098 - "OPTIONS /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:51098 - "POST /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:51122 - "GET /api/inert_request/all_with_status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51286 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:51405 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52590 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:52753 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53635 - "OPTIONS /api/request/get_special?is_active=true&is_desc=false&date=2025-06-30T00:00:00.000000&order_attribute=purpose_start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53635 - "GET /api/request/get_special?is_active=true&is_desc=false&date=2025-06-30T00:00:00.000000&order_attribute=purpose_start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53658 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:53658 - "OPTIONS /api/request/get_special?is_active=true&is_desc=false&date=2025-06-30T00:00:00.000000&order_attribute=purpose_start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53664 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:53658 - "GET /api/request/get_special?is_active=true&is_desc=false&date=2025-06-30T00:00:00.000000&order_attribute=purpose_start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53658 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:53658 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:53664 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:53664 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:53658 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:53685 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:54567 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:54572 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:54574 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:54575 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:54567 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:54575 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:54574 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:54572 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:54612 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:54616 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:54612 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:54619 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:54612 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:54616 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:54620 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:54619 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:55152 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:55157 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:55159 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:55161 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:55161 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:55152 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:55159 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:55157 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:58985 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58991 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:58992 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:58994 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:58994 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58985 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:58991 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:58992 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:58992 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58991 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:58985 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:58994 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:58985 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:58994 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58992 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:58991 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:59031 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59031 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:59039 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:59040 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:59040 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:59036 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59031 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:59039 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:59039 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59031 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:59036 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:59040 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:59039 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59036 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:59031 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:59040 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:61879 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:62016 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 200 OK
[DEBUG] Создаём отвес: detail_id=23, inert_request_id=21, transport_id=6
INFO:     127.0.0.1:62669 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
INFO:     127.0.0.1:63276 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
[DEBUG] Второй взвес: weighing_id=24, inert_request_id=21
INFO:     127.0.0.1:63337 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
INFO:     127.0.0.1:63433 - "GET /api/weighing/get_independent?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63525 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63529 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63531 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63533 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63533 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63531 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63525 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63529 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63562 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63567 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63570 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63569 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63589 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63587 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63582 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63590 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63643 - "GET /api/inert_request/all_with_status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63664 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63663 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63662 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63670 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-29T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63670 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-29T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63680 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63684 - "OPTIONS /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63686 - "OPTIONS /api/weighing/get_independent/24 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63687 - "OPTIONS /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63680 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63679 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63682 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63686 - "GET /api/weighing/get_independent/24 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63687 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63684 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63744 - "OPTIONS /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:63744 - "POST /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:63744 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63750 - "OPTIONS /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:63744 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63750 - "GET /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:63744 - "OPTIONS /api/report/weighing_act/24 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63750 - "GET /api/report/weighing_act/24 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63784 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:63792 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63794 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63793 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x12290a3f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py:67: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x12290a3f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  stmt = select(self.model).filter_by(**filter_by)
INFO:     127.0.0.1:63817 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63812 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63820 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63819 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
[DEBUG] Создаём отвес: detail_id=24, inert_request_id=22, transport_id=4
INFO:     127.0.0.1:63827 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
INFO:     127.0.0.1:63838 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63846 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63845 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63844 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63861 - "OPTIONS /api/weighing/get_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63860 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63855 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63863 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63858 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63857 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63861 - "GET /api/weighing/get_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63871 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
[DEBUG] Второй взвес: weighing_id=25, inert_request_id=22
INFO:     127.0.0.1:63874 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
INFO:     127.0.0.1:63890 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63889 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63888 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63907 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63906 - "GET /api/weighing/get_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63904 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63890 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63889 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63888 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63916 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:63916 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:63918 - "OPTIONS /api/concrete_mixing_plant/get_statistics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63918 - "OPTIONS /api/request/get_special?is_active=true&limit=200&is_desc=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:63928 - "OPTIONS /api/object/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63929 - "OPTIONS /api/material/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63930 - "OPTIONS /api/transport/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63930 - "GET /api/transport/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63916 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63925 - "GET /api/concrete_mixing_plant/get_statistics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63928 - "GET /api/object/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63929 - "GET /api/material/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63918 - "GET /api/request/get_special?is_active=true&limit=200&is_desc=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:63928 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63929 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63918 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63930 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63928 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63925 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63929 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63918 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63916 - "GET /api/weighing/get_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63945 - "OPTIONS /api/weighing/update_finished_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63945 - "PUT /api/weighing/update_finished_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63947 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63945 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63952 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63955 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:63970 - "GET /api/transport/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63955 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63964 - "GET /api/concrete_mixing_plant/get_statistics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63969 - "GET /api/material/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63967 - "GET /api/object/get?is_active=true&is_for_requests=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63965 - "GET /api/request/get_special?is_active=true&limit=200&is_desc=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:63984 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63983 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63982 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:63993 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63984 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63992 - "GET /api/weighing/get_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63991 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63983 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63982 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:63982 - "OPTIONS /api/weighing/finish_independent/25 HTTP/1.1" 200 OK
[DEBUG] fresh_weighing: id=25, inert_request_id=22, brutto_weight=18935, weediness=3, silo_number=4
[DEBUG] Завершаем заявку: 22
[DEBUG] InertMaterialRequestService.finish: request_id=22
[DEBUG] После update: obj.status=InertRequestStatusEnum.finished
[DEBUG] InertMaterialRequestService.finish: request_id=22
[DEBUG] После update: obj.status=InertRequestStatusEnum.finished
INFO:     127.0.0.1:63983 - "PUT /api/weighing/finish_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64008 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64015 - "GET /api/weighing/get_independent/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64012 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63983 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64014 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64017 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64026 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64027 - "GET /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:64026 - "OPTIONS /api/report/weighing_act/25 HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122d964e0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/openpyxl/cell/_writer.py:49: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122d964e0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  el = Element("c", attributes)
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229928a0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/openpyxl/cell/_writer.py:49: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229928a0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  el = Element("c", attributes)
INFO:     127.0.0.1:64027 - "GET /api/report/weighing_act/25 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64524 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64525 - "OPTIONS /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:64524 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64525 - "GET /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:64525 - "OPTIONS /api/transport/my HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122992b70>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py:146: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122992b70>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  await self.app(scope, receive, send)
INFO:     127.0.0.1:64530 - "OPTIONS /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64530 - "GET /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64524 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64525 - "GET /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:64666 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64667 - "OPTIONS /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:64668 - "OPTIONS /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64668 - "GET /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64667 - "GET /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:64666 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64682 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64684 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64685 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64682 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64687 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64684 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64684 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64687 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64685 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64684 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64682 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64722 - "OPTIONS /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:64722 - "POST /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:64725 - "OPTIONS /api/inert_request/my_invoices HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x12290b5c0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x12290b5c0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122993980>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122993980>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1228532f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1228532f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1228428a0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1228428a0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
INFO:     127.0.0.1:64722 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64725 - "GET /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:64733 - "GET /api/inert_request/all_with_status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64736 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:64744 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64746 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64745 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64745 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64746 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64765 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64744 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
[DEBUG] Создаём отвес: detail_id=25, inert_request_id=23, transport_id=4
INFO:     127.0.0.1:64769 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
INFO:     127.0.0.1:64786 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64779 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64787 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64786 - "OPTIONS /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64795 - "OPTIONS /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64797 - "OPTIONS /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64797 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64779 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64786 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64795 - "GET /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64784 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64787 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64804 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:64806 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64805 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64818 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64819 - "GET /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:64822 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:64837 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64832 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64834 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64831 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64829 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64836 - "GET /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64852 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64864 - "GET /api/weighing/get_independent/26 HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122990e60>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122990e60>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
INFO:     127.0.0.1:64861 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64863 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64860 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64858 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64852 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
[DEBUG] Второй взвес: weighing_id=26, inert_request_id=23
INFO:     127.0.0.1:64871 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
INFO:     127.0.0.1:64888 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64887 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64881 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64889 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64888 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64893 - "GET /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64892 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64902 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64903 - "GET /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:64921 - "OPTIONS /api/weighing/finish_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64921 - "PUT /api/weighing/finish_independent/26 HTTP/1.1" 400 Bad Request
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229e1c70>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/base.py:110: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229e1c70>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  async def call_next(request: Request) -> Response:
INFO:     127.0.0.1:64937 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64949 - "GET /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64937 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64948 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64947 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64943 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64942 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:64942 - "PUT /api/weighing/finish_independent/26 HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:49843 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:49848 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:49843 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:49850 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49852 - "OPTIONS /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49848 - "OPTIONS /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49854 - "OPTIONS /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49854 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49843 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:49848 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49856 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49850 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:49852 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:49854 - "GET /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49854 - "OPTIONS /api/weighing/finish_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49854 - "PUT /api/weighing/finish_independent/26 HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:50286 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50287 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50281 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50288 - "GET /api/weighing/get_independent/26 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50274 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50282 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50286 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50306 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50306 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50307 - "GET /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:50307 - "OPTIONS /api/carrier/my HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122d96f30>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122d96f30>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
INFO:     127.0.0.1:50307 - "GET /api/carrier/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:50306 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50306 - "OPTIONS /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:50317 - "OPTIONS /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50306 - "GET /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:50307 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50317 - "GET /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229b6e40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py:33: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229b6e40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  async def wrapped_app(scope: Scope, receive: Receive, send: Send) -> None:
INFO:     127.0.0.1:50335 - "GET /api/carrier/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:50334 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50335 - "GET /api/users/me HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229e1220>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:321: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229e1220>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  return ".".join([x for x in (module, qualname) if x])
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229096d0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:321: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229096d0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  return ".".join([x for x in (module, qualname) if x])
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229b5f40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/anyio/_backends/_asyncio.py:321: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229b5f40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
  return ".".join([x for x in (module, qualname) if x])
INFO:     127.0.0.1:50343 - "GET /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:50344 - "GET /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50335 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50348 - "OPTIONS /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:50348 - "POST /api/inert_request/create HTTP/1.1" 200 OK
INFO:     127.0.0.1:50356 - "GET /api/inert_request/all_with_status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50356 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50365 - "GET /api/inert_request/all_with_status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50373 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:50382 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:50384 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50382 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:50383 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50400 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50407 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50404 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:50408 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50408 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50400 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50407 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50404 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
[DEBUG] Создаём отвес: detail_id=26, inert_request_id=24, transport_id=1
INFO:     127.0.0.1:50420 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122d96210>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122d96210>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122908230>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x122908230>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
INFO:     127.0.0.1:50437 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50431 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50438 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50436 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:50448 - "OPTIONS /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50449 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50431 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50437 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50438 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50436 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50448 - "GET /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50456 - "POST /api/inert_weighing/simulate_camera HTTP/1.1" 200 OK
INFO:     127.0.0.1:50483 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50481 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50478 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50472 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50484 - "GET /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50483 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50479 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
[DEBUG] Создаём отвес: detail_id=25, inert_request_id=23, transport_id=4
INFO:     127.0.0.1:50503 - "POST /api/inert_weighing/auto_weighing HTTP/1.1" 200 OK
INFO:     127.0.0.1:50514 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50526 - "GET /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50523 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50521 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50514 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50525 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50519 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50552 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50542 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50553 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50556 - "GET /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50552 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50555 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50550 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50577 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50567 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50579 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50577 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50576 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50574 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50580 - "GET /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50603 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50599 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50607 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50603 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50609 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50610 - "GET /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50605 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50609 - "GET /api/company/get?is_active=true&company_function=%D0%97%D0%B0%D0%BA%D0%B0%D0%B7%D1%87%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50610 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50605 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50603 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50609 - "GET /api/driver/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50607 - "GET /api/transport/get?is_active=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50599 - "GET /api/weighing/get_independent/27 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50607 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:50609 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:50599 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'api/inert_material_weighing.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10634]
Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229b7d40>>
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 377, in _close_connection
    self._dialect.do_terminate(connection)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1109, in do_terminate
    dbapi_connection.terminate()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 902, in terminate
    self._connection.terminate()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/asyncpg/connection.py", line 1478, in terminate
    self._abort()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/asyncpg/connection.py", line 1505, in _abort
    self._protocol.abort()
  File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 836, in abort
    self._force_close(None)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 906, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229b7d40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x1229b7d40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed0ef240 (most recent call first):
  <no Python frame>
INFO:     Stopping reloader process [10618]
/Library/Frameworks/Python.framework/Versions/3.12/Resources/Python.app/Contents/MacOS/Python: can't open file '/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/concrete_app_backend-main/main.py': [Errno 2] No such file or directory
INFO:     Will watch for changes in these directories: ['/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [17013] using WatchFiles
/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:321: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
INFO:     Started server process [17018]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
role has already been created
roles have been successfully created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material type has already been created
material types have been successfully created
users has already been created
concrete mixing plant has already been created
concrete mixing plant has already been created
concrete mixing plant has already been created
concrete mixing plants have been successfully created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction type has already been created
construction types have been successfully created
receive method type has already been created
receive method type has already been created
receive method type has already been created
receive method type has already been created
receive method types have been successfully created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
permission has already been created
Всего прав доступа: 20
permissions have been successfully created
Всего связей ролей и прав доступа: 65
role_permissions have been successfully created
user admin has already been created
user director has already been created
user opdirector has already been created
user saleshead has already been created
user salesmanager has already been created
user logistic has already been created
user laborant has already been created
user dispatcher has already been created
user founder has already been created
user accountant has already been created
user bsumaster has already been created
user auto_system has already been created
Массовое создание пользователей завершено успешно
Пользователь supplier1 уже существует
all data seed was successfully
INFO:     127.0.0.1:51083 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51083 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51086 - "GET /api/inert_request/all_with_status HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
  |     yield
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    |     await route.handle(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 41, in get_all_inert_requests_with_status
    |     weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    |     res = (await self.session.execute(stmt)).scalars().one_or_none()
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    |     return self._only_one_row(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    |     raise exc.MultipleResultsFound(
    | sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    await route.handle(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 41, in get_all_inert_requests_with_status
    weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    res = (await self.session.execute(stmt)).scalars().one_or_none()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    raise exc.MultipleResultsFound(
sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
INFO:     127.0.0.1:51089 - "GET /api/inert_request/all_with_status HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
  |     yield
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    |     await route.handle(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 41, in get_all_inert_requests_with_status
    |     weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    |     res = (await self.session.execute(stmt)).scalars().one_or_none()
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    |     return self._only_one_row(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    |     raise exc.MultipleResultsFound(
    | sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    await route.handle(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 41, in get_all_inert_requests_with_status
    weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    res = (await self.session.execute(stmt)).scalars().one_or_none()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    raise exc.MultipleResultsFound(
sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
INFO:     127.0.0.1:51083 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51108 - "GET /api/inert_request/all_with_status HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
  |     yield
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    |     await route.handle(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 41, in get_all_inert_requests_with_status
    |     weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    |     res = (await self.session.execute(stmt)).scalars().one_or_none()
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    |     return self._only_one_row(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    |     raise exc.MultipleResultsFound(
    | sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    await route.handle(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 41, in get_all_inert_requests_with_status
    weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    res = (await self.session.execute(stmt)).scalars().one_or_none()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    raise exc.MultipleResultsFound(
sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
INFO:     127.0.0.1:51083 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51083 - "OPTIONS /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51116 - "OPTIONS /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51117 - "OPTIONS /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51119 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51116 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51083 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51083 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51119 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51116 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51117 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51117 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51083 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51116 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51119 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51083 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51119 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51117 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51116 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51153 - "GET /api/company/get?is_active=true&company_function=%D0%9F%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D1%89%D0%B8%D0%BA HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51156 - "GET /api/material/get?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51158 - "GET /api/weighing/get_independent?is_active=true&limit=10&is_desc=false&from_date=2025-06-30T00:00:00.000000&to_date=2025-06-30T23:59:59.999999&order_attribute=is_finished HTTP/1.1" 200 OK
INFO:     127.0.0.1:51220 - "OPTIONS /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51221 - "OPTIONS /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:51222 - "OPTIONS /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51221 - "GET /api/transport/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:51222 - "GET /api/material?is_active=true&is_for_independent=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:51220 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51222 - "OPTIONS /api/carrier/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:51220 - "GET /api/carrier/my HTTP/1.1" 200 OK
INFO:     127.0.0.1:51221 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51222 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51221 - "OPTIONS /api/inert_request/my_invoices HTTP/1.1" 200 OK
INFO:     127.0.0.1:51220 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51222 - "GET /api/inert_request/my_invoices HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
  |     yield
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    |     await route.handle(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 80, in get_my_invoices
    |     weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    |     res = (await self.session.execute(stmt)).scalars().one_or_none()
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    |     return self._only_one_row(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    |     raise exc.MultipleResultsFound(
    | sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    await route.handle(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 80, in get_my_invoices
    weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    res = (await self.session.execute(stmt)).scalars().one_or_none()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    raise exc.MultipleResultsFound(
sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
INFO:     127.0.0.1:51221 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51220 - "GET /api/inert_request/my_invoices HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
  |     yield
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    |     await route.handle(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 80, in get_my_invoices
    |     weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    |     res = (await self.session.execute(stmt)).scalars().one_or_none()
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    |     return self._only_one_row(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    |     raise exc.MultipleResultsFound(
    | sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    await route.handle(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 80, in get_my_invoices
    weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    res = (await self.session.execute(stmt)).scalars().one_or_none()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    raise exc.MultipleResultsFound(
sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
INFO:     127.0.0.1:51232 - "GET /api/users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51233 - "GET /api/inert_request/my_invoices HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 82, in collapse_excgroups
  |     yield
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 678, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    |     result = await app(  # type: ignore[func-returns-value]
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    |     return await self.app(scope, receive, send)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    |     await self.simple_response(scope, receive, send, request_headers=headers)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |          ^^^^^^^^^^^^^^^^^^^^
    |   File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    |     await route.handle(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    |     raise exc
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    |     response = await func(request)
    |                ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    |     raise e
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 80, in get_my_invoices
    |     weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    |     res = (await self.session.execute(stmt)).scalars().one_or_none()
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    |     return self._only_one_row(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    |     raise exc.MultipleResultsFound(
    | sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/applications.py", line 116, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/proccess_time.py", line 8, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
         ^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_utils.py", line 88, in collapse_excgroups
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/middleware/exception_handler.py", line 9, in middleware
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 746, in __call__
    await route.handle(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 55, in wrapped_app
    raise exc
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 44, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/starlette/routing.py", line 70, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 299, in app
    raise e
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 294, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/api/inert_material_request.py", line 80, in get_my_invoices
    weighing = await uow.weighing.find_one_or_none(inert_request_id=req.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/utils/repository.py", line 68, in find_one_or_none
    res = (await self.session.execute(stmt)).scalars().one_or_none()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 1812, in one_or_none
    return self._only_one_row(
           ^^^^^^^^^^^^^^^^^^^
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/engine/result.py", line 810, in _only_one_row
    raise exc.MultipleResultsFound(
sqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [17018]
Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d911400>>
Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 377, in _close_connection
    self._dialect.do_terminate(connection)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1109, in do_terminate
    dbapi_connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 902, in terminate
    self._connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1478, in terminate
    self._abort()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1505, in _abort
    self._protocol.abort()
  File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 836, in abort
    self._force_close(None)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 906, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d911400>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d911400>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c5398b0>>
Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 377, in _close_connection
    self._dialect.do_terminate(connection)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1109, in do_terminate
    dbapi_connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 902, in terminate
    self._connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1478, in terminate
    self._abort()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1505, in _abort
    self._protocol.abort()
  File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 836, in abort
    self._force_close(None)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 906, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c5398b0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c5398b0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c7e56d0>>
Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 377, in _close_connection
    self._dialect.do_terminate(connection)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1109, in do_terminate
    dbapi_connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 902, in terminate
    self._connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1478, in terminate
    self._abort()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1505, in _abort
    self._protocol.abort()
  File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 836, in abort
    self._force_close(None)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 906, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c7e56d0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c7e56d0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d9132f0>>
Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 377, in _close_connection
    self._dialect.do_terminate(connection)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1109, in do_terminate
    dbapi_connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 902, in terminate
    self._connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1478, in terminate
    self._abort()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1505, in _abort
    self._protocol.abort()
  File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 836, in abort
    self._force_close(None)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 906, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d9132f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d9132f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c301f40>>
Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 377, in _close_connection
    self._dialect.do_terminate(connection)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1109, in do_terminate
    dbapi_connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 902, in terminate
    self._connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1478, in terminate
    self._abort()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1505, in _abort
    self._protocol.abort()
  File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 836, in abort
    self._force_close(None)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 906, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c301f40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10c301f40>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d913200>>
Traceback (most recent call last):
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/pool/base.py", line 377, in _close_connection
    self._dialect.do_terminate(connection)
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1109, in do_terminate
    dbapi_connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 902, in terminate
    self._connection.terminate()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1478, in terminate
    self._abort()
  File "/Users/dinmukhammed/Desktop/zavod/concrete_app_backend-main/venv/lib/python3.12/site-packages/asyncpg/connection.py", line 1505, in _abort
    self._protocol.abort()
  File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 836, in abort
    self._force_close(None)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/selector_events.py", line 906, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 795, in call_soon
    self._check_closed()
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py", line 541, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d913200>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x10d913200>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
INFO:     Stopping reloader process [17013]
